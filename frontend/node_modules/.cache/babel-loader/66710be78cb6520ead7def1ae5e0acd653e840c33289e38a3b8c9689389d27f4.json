{"ast":null,"code":"import _classCallCheck from\"C:/Users/Mavrin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Mavrin/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}//Загрузка информации о пользователе\n_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._checkAnswer);}//Загрузка карточек с сервера\n},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._checkAnswer);}//Обновление профиля пользователя\n},{key:\"editProfile\",value:function editProfile(name,about){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkAnswer);}//Добавление новой карточки\n},{key:\"addNewCard\",value:function addNewCard(name,link){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkAnswer);}//Удаление карточки\n},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._checkAnswer);}//Отображение количества лайков\n},{key:\"putTheNumberOfLikes\",value:function putTheNumberOfLikes(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkAnswer);}//Удаление количества лайков\n},{key:\"deleteTheNumberOfLikes\",value:function deleteTheNumberOfLikes(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkAnswer);}//Обновление аватара пользователя\n},{key:\"updateUserAvatar\",value:function updateUserAvatar(avatar){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkAnswer);}//Проверка вариантов ответа\n},{key:\"_checkAnswer\",value:function _checkAnswer(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status,\", \").concat(res.statusText));}}}]);return Api;}();var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-71',headers:{authorization:'f5593e6a-e81b-4046-bd40-347703da0d21','Content-Type':'application/json'}});export{api};","map":{"version":3,"names":["Api","options","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","getUserInfo","fetch","concat","then","_checkAnswer","getInitialCards","editProfile","name","about","method","body","JSON","stringify","addNewCard","link","deleteCard","id","putTheNumberOfLikes","deleteTheNumberOfLikes","updateUserAvatar","avatar","res","ok","json","Promise","reject","status","statusText","api","authorization"],"sources":["C:/Users/Mavrin/dev/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  //Загрузка информации о пользователе\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Загрузка карточек с сервера\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Обновление профиля пользователя\r\n  editProfile(name, about) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name, about })\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Добавление новой карточки\r\n  addNewCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name, link })\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Удаление карточки\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Отображение количества лайков\r\n  putTheNumberOfLikes(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Удаление количества лайков\r\n  deleteTheNumberOfLikes(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Обновление аватара пользователя\r\n  updateUserAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ avatar })\r\n    })\r\n      .then(this._checkAnswer);\r\n  }\r\n\r\n  //Проверка вариантов ответа\r\n  _checkAnswer(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}, ${res.statusText}`);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-71',\r\n  headers: {\r\n    authorization: 'f5593e6a-e81b-4046-bd40-347703da0d21',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport { api };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}